

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Libraries &mdash; Chanterelle 0.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Deployments" href="deployments.html" />
    <link rel="prev" title="Genesis Blocks" href="genesis-blocks.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Chanterelle
          

          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chanterelle-json.html">chanterelle.json</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiling.html">Compiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="genesis-blocks.html">Genesis Blocks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fixed-libraries">Fixed Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#autocompiled-libraries">Autocompiled Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#injected-libraries">Injected Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fetched-libraries">Fetched Libraries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deployments.html">Deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Chanterelle</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Libraries</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/libraries.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="libraries">
<span id="id1"></span><h1>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h1>
<p>Chanterelle supports supplying Solidity libraries to <code class="docutils literal notranslate"><span class="pre">solc</span></code> during compile-time.
Future versions will support injecting libraries during the Deployment phase.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Each library is a mapping of a library name to one or more parameters describing it. These parameters are
utilized during the compilation of contracts as well as when generating genesis blocks. Each library specified
will have its address passed into <code class="docutils literal notranslate"><span class="pre">solc</span></code> so that it may automatically be linked into the compiled bytecode.</p>
</div>
<div class="section" id="fixed-libraries">
<h2>Fixed Libraries<a class="headerlink" href="#fixed-libraries" title="Permalink to this headline">¶</a></h2>
<p>The most basic form of library descriptor is simply a library name and an address. This is seldom used in practice,
and will prevent the genesis generator from running.</p>
</div>
<div class="section" id="autocompiled-libraries">
<h2>Autocompiled Libraries<a class="headerlink" href="#autocompiled-libraries" title="Permalink to this headline">¶</a></h2>
<p>These are the most common form of library you’ll likely use. In this case, rather than a string representing the library address,
one specified an object containing the library’s address as well as where to find the Solidity code for that library.</p>
<p>When generating genesis blocks, the generator will compile the library and use the resulting bytecode.</p>
</div>
<div class="section" id="injected-libraries">
<h2>Injected Libraries<a class="headerlink" href="#injected-libraries" title="Permalink to this headline">¶</a></h2>
<p>Injected libraries consist of raw EVM bytecode that represents the code that should exist at the library’s address (i.e., as would
be received from <code class="docutils literal notranslate"><span class="pre">eth.getCode(&quot;0xaddress&quot;)</span></code>. Note that most Solidity libraries have checks to ensure that they are not called directly, and have this written as part of their deployment address
when they are first deployed to the blockchain. To handle this, Chanterelle will automatically substitute that section of the bytecode
to ensure the library behaves as expected. If a library does implement this check in the standard manner (by having the first bytes be
<code class="docutils literal notranslate"><span class="pre">0x73&lt;addr&gt;3014</span></code>), the genesis generator <strong>will</strong> fail.</p>
</div>
<div class="section" id="fetched-libraries">
<h2>Fetched Libraries<a class="headerlink" href="#fetched-libraries" title="Permalink to this headline">¶</a></h2>
<p>Chanterelle may be configured to attempt to fetch the code for a library from an existing network. Should the code be unavailable
on all the specified networks, the genesis generator will fail.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;via&quot;</span></code> field may be one of:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>: Attempt to fetch the library from all networks defined in the project spec</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;**&quot;</span></code>: Attempt to fetch the library from both the networks defined in the project spec as well
as from the predefined networks: <code class="docutils literal notranslate"><span class="pre">mainnet</span></code>, <code class="docutils literal notranslate"><span class="pre">ropsten</span></code>, <code class="docutils literal notranslate"><span class="pre">rinkeby</span></code>, <code class="docutils literal notranslate"><span class="pre">kovan</span></code>, or <code class="docutils literal notranslate"><span class="pre">localhost</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">[&quot;net_name&quot;,</span> <span class="pre">...]</span></code>: Attempt to fetch the library from any of the named networks. These may include both the
project-specific networks as well as the predefined networks. Note that this must be an array even if only
one network is specified.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deployments.html" class="btn btn-neutral float-right" title="Deployments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="genesis-blocks.html" class="btn btn-neutral" title="Genesis Blocks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Martin Allen, Ilya Ostrovskiy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>